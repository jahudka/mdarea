{"version":3,"file":"index.min.js","sources":["../src/utils/markdown.ts","../src/utils/options.ts","../src/utils/dom.ts","../src/markdownArea.ts"],"sourcesContent":[null,null,null,null],"names":["rePrefix","reList","reCleanIndent","rePureIndent","reIncrement","reStripLast","toIndent","prefix","pure","replace","isMac","test","navigator","platform","isFfox","userAgent","ctrlKey","defaultKeymap","enter","indent","outdent","inline","normalizeKeyMap","keyMap","knownKeys","list","action","hasOwnProperty","keys","Array","isArray","toString","trim","split","push","apply","map","key","combo","normalizeKey","forEach","shortcut","altKey","shiftKey","metaKey","opts","k","toLowerCase","normalizeIndent","length","join","reDoubledInline","reSingleQuotePrefix","reListEnd","reMkIndent","codeBlocks","`","~","openingParens","[","(","{","<","closingParens","]",")","}",">","createHelper","helper","document","createElement","setAttribute","tabIndex","contentEditable","textContent","addEventListener","setTimeout","blur","style","position","overflow","visibility","left","top","width","height","opacity","handleKey","ed","evt","elem","defaultPrevented","options","find","prop","matchesKey","state","extractState","v","substring","s","selection","e","postfix","info","str","offset","lastIndexOf","line","m","exec","getLineInfo","charAt","base","stripLast","isList","_","n","parseInt","increment","pushState","handleEnterKey","handleIndentKey","reOutdent","handleOutdentKey","slice","handleInlineKey","preventDefault","lock","x","scrollLeft","y","scrollTop","ensureInit","writeState","applyState","handleInput","execCommand","handleUndo","JSON","parse","focus","init","selectionStart","selectionEnd","value","scrollTo","stringify","[object Object]","maybeOptions","normalizeOptions","editor","this","RegExp","onInput","bind","onKeyDown","onUndo","body","appendChild","setElement","removeEventListener","keepUndo","removeChild","Object","assign"],"mappings":"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"}